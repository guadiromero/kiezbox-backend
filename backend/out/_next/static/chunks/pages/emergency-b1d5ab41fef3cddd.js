(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[519],{519:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/emergency",function(){return r(1499)}])},692:function(e,t,r){"use strict";r.d(t,{U:function(){return l},W:function(){return i},cn:function(){return a}});var s=r(6010),n=r(7851);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m)((0,s.W)(t))}let l=async e=>{console.log("submit",e);let t=await fetch("http://127.0.0.1:8000/api/messages/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return console.log(t),!!t.ok},i=async()=>{try{let e=await fetch("http://127.0.0.1:8000/api/messages/?skip=".concat(0,"&limit=").concat(100),{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){let t=await e.json();return console.log("Fetched Emergencies",t),t}throw Error('Something went wrong" '.concat(e.statusText))}catch(e){console.log(e)}}},1499:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var s=r(5893);r(78);var n=r(7294),a=r(692);let l=n.forwardRef((e,t)=>{let{className:r,type:n,...l}=e;return(0,s.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});l.displayName="Input";var i=r(9102),o=r(2003);let d=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(i.f,{ref:t,className:(0,a.cn)(d(),r),...n})});c.displayName=i.f.displayName;var m=r(8426);let f=(0,o.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),u=n.forwardRef((e,t)=>{let{className:r,variant:n,size:l,asChild:i=!1,...o}=e,d=i?m.g7:"button";return(0,s.jsx)(d,{className:(0,a.cn)(f({variant:n,size:l,className:r})),ref:t,...o})});u.displayName="Button";var x=r(4807);let p=x.fC;x.xz;let h=e=>{let{className:t,children:r,...n}=e;return(0,s.jsx)(x.h_,{className:(0,a.cn)(t),...n,children:(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-center",children:r})})};h.displayName=x.h_.displayName;let g=n.forwardRef((e,t)=>{let{className:r,children:n,...l}=e;return(0,s.jsx)(x.aV,{className:(0,a.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm transition-opacity animate-in fade-in",r),...l,ref:t})});g.displayName=x.aV.displayName;let y=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsxs)(h,{children:[(0,s.jsx)(g,{}),(0,s.jsx)(x.VY,{ref:t,className:(0,a.cn)("fixed z-50 grid w-full max-w-lg scale-100 gap-4 border bg-background p-6 opacity-100 shadow-lg animate-in fade-in-90 slide-in-from-bottom-10 sm:rounded-lg sm:zoom-in-90 sm:slide-in-from-bottom-0 md:w-full",r),...n})]})});y.displayName=x.VY.displayName;let b=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,a.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...r})};b.displayName="AlertDialogHeader";let j=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,a.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};j.displayName="AlertDialogFooter";let N=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(x.Dx,{ref:t,className:(0,a.cn)("text-lg font-semibold",r),...n})});N.displayName=x.Dx.displayName;let w=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(x.dk,{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});w.displayName=x.dk.displayName;let v=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(x.aU,{ref:t,className:(0,a.cn)(f(),r),...n})});v.displayName=x.aU.displayName;let _=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(x.$j,{ref:t,className:(0,a.cn)(f({variant:"outline"}),"mt-2 sm:mt-0",r),...n})});_.displayName=x.$j.displayName;let k=e=>{let{isopen:t=!1,onClose:r}=e;return(0,s.jsx)(p,{open:t,children:(0,s.jsxs)(y,{children:[(0,s.jsxs)(b,{children:[(0,s.jsx)(N,{children:"Emergency Call Succesfully send"}),(0,s.jsx)(w,{children:"Help is on the way to you. Please stay calm."})]}),(0,s.jsx)(j,{children:(0,s.jsx)(_,{onClick:e=>r(e),children:"Reset"})})]})})},C={address:"",name:"",problem:"",number_affected_ppl:0};var E=()=>{let[e,t]=(0,n.useState)(C),[r,i]=(0,n.useState)(!1),o=async t=>{t.preventDefault();let r=await (0,a.U)(e);r&&(console.log("sent"),i(!0))},d=e=>{t(C),window.location.reload()},m=e=>{e.preventDefault();let{id:r,value:s}=e.target;t(e=>({...e,[r]:s}))};return(0,s.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-between p-24",children:[(0,s.jsx)(k,{isopen:r,onClose:e=>d(e)}),(0,s.jsxs)("div",{className:"z-10 w-full max-w-3xl items-center justify-start font-mono text-sm flex flex-col gap-4",children:[(0,s.jsx)("h1",{className:"text-xl",children:"Kiezbox Demo"}),(0,s.jsx)("p",{children:"Fill out this form to send an emergency call"}),(0,s.jsxs)("form",{className:"w-full flex flex-col items-center gap-1.5",onSubmit:e=>o(e),children:[(0,s.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5 mt-6",children:[(0,s.jsx)(c,{htmlFor:"name",children:(0,s.jsx)("strong",{children:"Name"})}),(0,s.jsx)(l,{type:"text",id:"name",placeholder:"Who are you",onChange:e=>m(e)})]}),(0,s.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5 mt-6",children:[(0,s.jsx)(c,{htmlFor:"address",children:(0,s.jsx)("strong",{children:"Address"})}),(0,s.jsx)(l,{type:"text",id:"address",placeholder:"Where are you",onChange:e=>m(e)})]}),(0,s.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5 mt-6",children:[(0,s.jsx)(c,{htmlFor:"problem",children:(0,s.jsx)("strong",{children:"What happened"})}),(0,s.jsx)(l,{type:"text",id:"problem",placeholder:"What kind of emergency",onChange:e=>m(e)})]}),(0,s.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5 mt-6",children:[(0,s.jsx)(c,{htmlFor:"number_affected_ppl",children:(0,s.jsx)("strong",{children:"Who/how many are affected"})}),(0,s.jsx)(l,{type:"number",id:"number_affected_ppl",placeholder:"Estimation of people affected",onChange:e=>m(e)})]}),(0,s.jsx)(u,{type:"submit",className:"mt-4 w-full max-w-sm",children:"Send Emergency Call"})]})]})]})}},78:function(){}},function(e){e.O(0,[774,777,399,771,888,179],function(){return e(e.s=519)}),_N_E=e.O()}]);